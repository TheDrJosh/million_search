syntax = "proto3";
package crawler;

service Crawler {
  rpc GetJob(GetJobRequest) returns (GetJobResponse);
  rpc ReturnJob(ReturnJobRequest) returns (ReturnJobResponse);
  rpc KeepAliveJob(KeepAliveJobRequest) returns (KeepAliveJobResponse);
}

message GetJobRequest {}

message GetJobResponse {
  int32 id = 1;
  string url = 2;
}

message ReturnJobRequest {
  int32 id = 1;

  string url = 2;

  string MIME_type = 3;

  repeated string linked_urls = 4;

  // text sections

  optional string icon_url = 5;
}

message ReturnJobResponse {}

message KeepAliveJobRequest {
  int32 id = 1;
  string url = 2;
}

message KeepAliveJobResponse {}
